{"openapi":"3.0.0","info":{"title":"FastAPI","version":"0.1.0"},"paths":{"/images":{"post":{"summary":"Create Image","operationId":"create_image_images_post","requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_create_image_images_post"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateImageResponse"}}}},"500":{"description":"Internal server error","content":{"application/json":{"example":{"error_code":"INTERNAL_SERVER_ERROR","detail":"Internal server error"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"summary":"Search Images","operationId":"search_images_images_get","parameters":[{"name":"query","in":"query","required":true,"schema":{"type":"string","title":"Query"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SearchResponse"}}}},"500":{"description":"Internal server error","content":{"application/json":{"example":{"error_code":"INTERNAL_SERVER_ERROR","detail":"Internal server error"}}}},"404":{"description":"No image available for model","content":{"application/json":{"example":{"error_code":"NO_IMAGE_AVAILABLE","detail":"No image available for model"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/images/{image_id}":{"get":{"summary":"Get Image","operationId":"get_image_images__image_id__get","parameters":[{"name":"image_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Image Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetImageResponse"}}}},"500":{"description":"Internal server error","content":{"application/json":{"example":{"error_code":"INTERNAL_SERVER_ERROR","detail":"Internal server error"}}}},"404":{"description":"Image not found","content":{"application/json":{"example":{"error_code":"IMAGE_NOT_FOUND","detail":"Image not found"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/images/{query_id}/feedback":{"post":{"summary":"Search Feedback","operationId":"search_feedback_images__query_id__feedback_post","parameters":[{"name":"query_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Query Id"}},{"name":"rating","in":"query","required":true,"schema":{"$ref":"#/components/schemas/RatingSchema"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SearchFeedbackResponse"}}}},"500":{"description":"Internal server error","content":{"application/json":{"example":{"error_code":"INTERNAL_SERVER_ERROR","detail":"Internal server error"}}}},"400":{"description":"Search feedback already exists","content":{"application/json":{"example":{"error_code":"SEARCH_FEEDBACK_ALREADY_EXISTS","detail":"Search feedback already exists"}}}},"404":{"description":"Search query not found","content":{"application/json":{"example":{"error_code":"SEARCH_QUERY_NOT_FOUND","detail":"Search query not found"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/storage/{provider_name}/files/{key}":{"get":{"summary":"Get File","operationId":"get_file_storage__provider_name__files__key__get","parameters":[{"name":"key","in":"path","required":true,"schema":{"type":"string","title":"Key"}},{"name":"provider_name","in":"path","required":true,"schema":{"type":"string","title":"Provider Name"}}],"responses":{"200":{"description":"Successful Response","content":{"application/octet-stream":{"schema":{"type":"string"}}}},"500":{"description":"Internal server error","content":{"application/json":{"example":{"error_code":"INTERNAL_SERVER_ERROR","detail":"Internal server error"}}}},"400":{"description":"Unsupported storage provider","content":{"application/json":{"example":{"error_code":"UNSUPPORTED_STORAGE_PROVIDER","detail":"Unsupported storage provider"}}}},"404":{"description":"Object not found","content":{"application/json":{"example":{"error_code":"OBJECT_NOT_FOUND","detail":"Object not found in storage"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"Body_create_image_images_post":{"properties":{"file":{"type":"string","format":"binary","title":"File"}},"type":"object","required":["file"],"title":"Body_create_image_images_post"},"CreateImageResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"storage_provider":{"type":"string","title":"Storage Provider"},"storage_key":{"type":"string","title":"Storage Key"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"url":{"type":"string","title":"Url"}},"type":"object","required":["id","storage_provider","storage_key","created_at","url"],"title":"CreateImageResponse"},"GetImageResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"storage_provider":{"type":"string","title":"Storage Provider"},"storage_key":{"type":"string","title":"Storage Key"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"url":{"type":"string","title":"Url"}},"type":"object","required":["id","storage_provider","storage_key","created_at","url"],"title":"GetImageResponse"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"ImageSchema":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"storage_provider":{"type":"string","title":"Storage Provider"},"storage_key":{"type":"string","title":"Storage Key"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"url":{"type":"string","title":"Url"}},"type":"object","required":["id","storage_provider","storage_key","created_at","url"],"title":"ImageSchema"},"RatingSchema":{"type":"string","enum":["positive","negative"],"title":"RatingSchema"},"SearchFeedbackResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"query":{"$ref":"#/components/schemas/SearchQuerySchema"},"rating":{"$ref":"#/components/schemas/RatingSchema"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["id","query","rating","created_at"],"title":"SearchFeedbackResponse"},"SearchQuerySchema":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"model_name":{"type":"string","title":"Model Name"},"query_text":{"type":"string","title":"Query Text"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["id","model_name","query_text","created_at"],"title":"SearchQuerySchema"},"SearchResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"model_name":{"type":"string","title":"Model Name"},"query_text":{"type":"string","title":"Query Text"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"image":{"$ref":"#/components/schemas/ImageSchema"}},"type":"object","required":["id","model_name","query_text","created_at","image"],"title":"SearchResponse"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}